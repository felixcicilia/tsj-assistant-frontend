<!-- src/auth/login/login.component.html -->

<form (ngSubmit)="onSubmit()" #f="ngForm" novalidate class="login-form">
  <!-- Correo -->
  <div class="login-field">
    <label class="form-label">Correo electrónico</label>
    <input
      type="email"
      class="form-control"
      name="email"
      [(ngModel)]="form.email"
      required
      autocomplete="email"
    />
  </div>

  <!-- Contraseña -->
  <div class="login-field">
    <label class="form-label">Contraseña</label>
    <input
      type="password"
      class="form-control"
      name="password"
      [(ngModel)]="form.password"
      required
      autocomplete="current-password"
    />
  </div>

  <!-- Botón -->
  <button type="submit" class="btn login-btn" [disabled]="loading || f.invalid">
    <span class="spinner-border spinner-border-sm me-2" *ngIf="loading"></span>
    {{ loading ? 'Validando credenciales…' : 'Iniciar sesión' }}
  </button>

  <!-- Mensajes de feedback -->
  <div class="login-feedback mt-3" *ngIf="error">
    <small class="text-danger">{{ error }}</small>
  </div>

  <div class="login-feedback mt-3" *ngIf="success">
    <small class="text-success">{{ success }}</small>
  </div>

  <div class="mt-2 small text-muted" *ngIf="loggedUser">
    Sesión iniciada como {{ loggedUser.email }} ({{ loggedUser.role }}).
  </div>
</form>
